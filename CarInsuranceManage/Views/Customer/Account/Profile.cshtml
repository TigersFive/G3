@model CarInsuranceManage.Models.User
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
  body {
    background-color: #f8f9fa;
  }

  .profile-container {
    max-width: 900px;
    margin: 30px auto;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .profile-sidebar {
    background-color: #007bff;
    color: #fff;
    border-radius: 10px 0 0 10px;
  }

  .profile-sidebar .btn {
    color: #fff;
    border-color: #fff;
  }

  .profile-sidebar .btn:hover {
    background-color: #0056b3;
  }

  .form-control {
    border-radius: 8px;
  }

  .form-section-title {
    font-size: 1.2rem;
    font-weight: bold;
    margin-bottom: 10px;
    color: #495057;
  }

  .password-toggle {
    position: relative;
  }

  .password-toggle .toggle-password {
    position: absolute;
    top: 72%;
    right:10px ;
    margin-right: 12px;
    transform: translateY(-50%);
    cursor: pointer;
  }
</style>

<section class="main-slider">
  <div class="container profile-container">
    <div class="row">
      <!-- Sidebar -->
     @await Html.PartialAsync("~/Views/Customer/Account/HeaderProfile.cshtml", Model)

      <!-- Main Content -->
      <div class="col-md-8 py-4 px-4">
        <h3 class="text-center mb-4">User Account Information</h3>
        @if (TempData["Success"] != null)
        {
          <div class="alert alert-success">@TempData["Success"]</div>
        }
        <form asp-action="Profile" method="post">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="username" class="form-label">Username</label>
              <input type="text" class="form-control" id="username" name="username" value="@Model.username" readonly>
            </div>
            <div class="col-md-6 mb-3">
              <label for="fullname" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="fullname" name="full_name" value="@Model.full_name">
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" class="form-control" id="email" name="email" value="@Model.email">
            </div>
            <div class="col-md-6 mb-3 password-toggle">
              <label for="password" class="form-label">Password</label>
              <input type="password" class="form-control" id="password" name="password" value="@Model.password">
              <span class="toggle-password" onclick="togglePasswordVisibility()">
                <i class="fa fa-eye" id="togglePasswordIcon"></i>
              </span>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="phone_number" class="form-label">Phone Number</label>
              <input type="text" class="form-control" id="phone_number" name="phone_number" value="@Model.phone_number">
            </div>
            <div class="col-md-6 mb-3">
              <label for="address" class="form-label">Address</label>
              <input type="text" class="form-control" id="address" name="address" value="@Model.address">
            </div>
          </div>
          <div class="text-start">
            <button type="submit" class="btn btn-primary">Update</button>
          </div>
        </form>
      </div>
    </div>
  </div>


  <!-- CTA Section -->
  <section class="cta-section">
    <div class="auto-container">
      <div class="inner-container"
        style="background-image: url('@Url.Content("~/customer-assets/images/background/pattern-5.png")')">
        <div class="row clearfix">
          <!-- Title Column -->
          <div class="title-column col-lg-5 col-md-12 col-sm-12">
            <div class="inner-column">
              <h3>Let us take care about your veicle</h3>
            </div>
          </div>

          <!-- Form Column -->
          <div class="form-column col-lg-7 col-md-12 col-sm-12">
            <div class="inner-column">
              <div class="newsletter-form">
                <form method="post" action="https://themeim.com/demo/carsore/contact.html">
                  <div class="form-group">
                    <span class="icon fa fa-envelope"></span>
                    <input type="email" name="email" value="" placeholder="Enter your mail" required="" />
                    <button type="submit" class="theme-btn flaticon-send"></button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
  function togglePasswordVisibility() {
    var passwordInput = document.getElementById("password");
    var togglePasswordIcon = document.getElementById("togglePasswordIcon");
    if (passwordInput.type === "password") {
      passwordInput.type = "text";
      togglePasswordIcon.classList.remove("fa-eye");
      togglePasswordIcon.classList.add("fa-eye-slash");
    } else {
      passwordInput.type = "password";
      togglePasswordIcon.classList.remove("fa-eye-slash");
      togglePasswordIcon.classList.add("fa-eye");
    }
  }
</script>